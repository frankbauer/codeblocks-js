<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="codeblocks-baseurl" content="<%= BASE_URL %>">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>frontend</title>
    <link rel=stylesheet href="<%= BASE_URL %>css/materialdesignicons.css"> 
    <link rel=stylesheet href="<%= BASE_URL %>css/roboto.css">  
    <link rel=stylesheet href="<%= BASE_URL %>css/main.css">  
    <script src="<%= BASE_URL %>js/jquery.min.js" type="text/javascript"></script>
    <style>
      codeblockseditor > *,  codeblocks > *{
        display:none;        
      }

      codeblockseditor, codeblocks, .code{
        display: block;
        position:relative;
        text-align: center;
        margin:auto;
        width:90%;
        height:150px;
        border:1px solid rgba(0,0,0,0.2);
        margin-bottom:50px;
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif
      }

      codeblockseditor::before, codeblocks::before {
        content:"loading..."
      }


      loading {
        display: inline-block;
        position: relative;
        top: 35px;
        width: 80px;
        height: 80px;
      }
      loading div {
        position: absolute;
        border: 4px solid rgb(43, 44, 50);
        opacity: 1;
        border-radius: 50%;
        animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;
      }
      loading div:nth-child(2) {
        animation-delay: -0.5s;
      }
      @keyframes lds-ripple {
        0% {
          top: 36px;
          left: 36px;
          width: 0;
          height: 0;
          opacity: 1;
        }
        100% {
          top: 0px;
          left: 0px;
          width: 72px;
          height: 72px;
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but this doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    
    
    <div id="app"></div>
    <div style="padding-left:50px;padding-right:50px" id="blocks">
      <codeblockseditor data-compiler="javascript" data-compiler-version="101" data-id="53" data-dom-libs='[]' data-worker-libs='["d3-101"]' data-execution-timeout="10000" data-max-characters="4000" data-run-code="true">
        <loading><div></div><div></div></loading>
    <playground data-version="101" width="600px" height="200px" align="center">{init: function(canvasElement) {
    
  },
  shouldAutoReset: function() {return true;},
  update: function(text, json, canvasElement, outputElement) {
    let html_str = d3DomProxyToSaveInnerHTMLString(json);
    canvasElement.html(html_str)    
  }
}
    </playground>
<block>var data = JSON.parse(`[{"year":2006,"books":54},{"year":2007,"books":43},{"year":2008,"books":41},{"year":2009,"books":44},{"year":2010,"books":35}]`);


  // data accessing functions:
  const xValue = d => d.books;
  const yValue = d => d.year;

  // draw area constants
  const W = 600;
  const H = 200;
  const margin = { left: 80, right: 10, bottom: 30, top: 10 };
  const iW = W - margin.left - margin.right;
  const iH = H - margin.top - margin.bottom;

  const maxX = d3.max(data, xValue);
  const minX = d3.min(data, xValue);

  const xScale = d3.scaleLinear()
    .domain([0, maxX])
    .range([0, iW]);
  const yScale = d3.scaleBand()
    .domain(data.map(yValue))
    .range([0, iH])
    .padding(0.1);

  const colorScaleX = d3.scaleSequential(d3.interpolateYlGn)
    .domain([minX, maxX]);
  const colorScaleY = d3.scaleOrdinal(d3.schemeAccent)
    .domain(data.map(yValue));

  const svg = d3.select("#content")
    .append("svg")
    .attr("width", W)
    .attr("height", H);

  const g = svg.append('g')
    .attr('transform', "translate(" + margin.left + "," + margin.top + ")");

  // axes for each scale
  g.append('g')
    .call(d3.axisLeft(yScale));
  g.append('g')
    .call(d3.axisBottom(xScale))
    .attr('transform', "translate(0," + iH + ")");

  // bars:  svg - rect
  g.selectAll(".bar")
    .data(data)
    .enter()
    .append("rect")
    .attr("class", "bar")
    .attr("width", d => xScale(xValue(d)))
    .attr("height", yScale.bandwidth())
    .attr("y", d => yScale(yValue(d)))
    .attr("fill", d => colorScaleX(xValue(d)))
    //.attr("fill", d => colorScaleY(yValue(d)))
    .attr("stroke", "black")



  console.log("\n\n&lt;JSON>\n" + document.__getD3ResultJSON());</block>
    </codeblockseditor>

    <codeblockseditor data-compiler="python3" data-compiler-version="101" data-id="35" data-dom-libs='["d3-5.13.4","3js-r0"]' data-execution-timeout="10000" data-max-characters="40000" data-run-code="true">
        <loading><div></div><div></div></loading>
        <playground data-version="101" width="25%" height="100px" align="center">{init: function(canvasElement) {
          //canvasElement.addClass('hiddenBlock');
          //console.log("foo");
  },
  shouldAutoReset: function(){return true;},
  update: function(text, json, canvasElement, outputElement) {
  }
}
</playground>
<block>print(2)</block>
</codeblockseditor>

    <codeblocks data-compiler="python3" data-compiler-version="101" data-id="35">

    <loading><div></div><div></div></loading>
        <playground data-version="101">{init: function(canvasElement) {
            //console.log("INIT", canvasElement);
            canvasElement.addClass('hiddenBlock');
            //console.log(document.querySelector('#app'));
        }, //init

        getRandomColor() {
          var letters = '0123456789ABCDEF';
          var color = '#';
          for (var i = 0; i &lt; 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
          }
          return color;
        },
        shouldAutoReset: function(){return true;},
        update: function(text, json, canvasElement, outputElement) {
            canvasElement.removeClass('hiddenBlock');
            canvasElement.css('background-color', this.getRandomColor());
            console.log("FOO", text, json);
            return "New Text is here\n\n";
        } //update
    }</playground>
      <block>print(round(16.5))</block>
      <block data-readonly data-static>for i in range(3, 5):
    print(i)
      </block>
      <block data-hidden>print("Hello World")</block>
      <text>This was a python 3 example</text> 
    </codeblocks>

    <codeblockseditor data-compiler="javascript" data-compiler-version="100" data-id="34">
        <loading><div></div><div></div></loading>
      <playground data-version="101">{init: function(canvasElement) {
              //console.log("INIT", canvasElement);
              canvasElement.addClass('hiddenBlock');
              //console.log(document.querySelector('#app'));
          }, //init
  
          update: function(text, json, canvasElement, outputElement) {
              canvasElement.removeClass('hiddenBlock');
              console.log("FOO", text, json);
              return "New Text is here\n\n";
          } //update
      }</playground>
      <block data-readonly data-static>public class Foo {</block>
      <block data-visible-lines="10">public static void main(String[] args){
  int a;System.out.println("Hello World!");
  System.err.println("Hello World!");
  System.out.print("\n\n&lt;JSON&gt;\n");
  System.out.println("[1, 2, 3]");
}</block>

      <block data-readonly data-static>}</block>  
      <block data-hidden>//Secret!!!</block>
      <text>This was an example</text>   
    </codeblockseditor>
    
    <codeblocks data-compiler="javascript" data-compiler-version="100" data-id="36">
        <block>console.log("Hello From Javascript");
            console.error("e");
        </block>
      </codeblocks>
    </div>
    <!-- built files will be auto injected -->
  </body>
</html>
